<style type="text/css">
  .multi-item-carousel{
  .carousel-inner{
    > .item{
      transition: 500ms ease-in-out left;
    }
    .active{
      &.left{
        left:-33%;
      }
      &.right{
        left:33%;
      }
    }
    .next{
      left: 33%;
    }
    .prev{
      left: -33%;
    }
    @media all and (transform-3d), (-webkit-transform-3d) {
      > .item{
        // use your favourite prefixer here
        transition: 500ms ease-in-out left;
        transition: 500ms ease-in-out all;
        backface-visibility: visible;
        transform: none!important;
      }
    }
  }
  .carouse-control{
    &.left, &.right{
      background-image: none;
    }
  }
}

// non-related styling:
body{
  background: #333;
  color: #ddd;
}
h1{
  color: white;
  font-size: 2.25em;
  text-align: center;
  margin-top: 1em;
  margin-bottom: 2em;
  text-shadow: 0px 2px 0px rgba(0, 0, 0, 1);
}
</style>
<section class="regular slider">
  <div>
    <%= image_tag 'slide1.jpg', class: 'img-responsive' %>
  </div>
  <div>
    <%= image_tag 'slide2.jpg', class: 'img-responsive' %>
  </div>
  <div>
    <%= image_tag 'slide3.jpg', class: 'img-responsive' %>
  </div>
</section>

<% @body_id = 'home-page' %>
<% content_for :sidebar do %>
  <div data-hook="homepage_sidebar_navigation">
    <%= render partial: 'spree/shared/taxonomies' %>
  </div>
<% end %>
<div class="text-center common-heading">Today's Featured Collections</div>
<div class="text-center common-subheading">Newly added products.</div>
<div data-hook="homepage_products" class="homepage_products">
  <% cache(cache_key_for_products) do %>
    <%= render partial: 'spree/shared/products', locals: { products: @products } %>
  <% end %>
</div>
<div class="text-center common-heading">Men's Collection</div>
<div data-hook="homepage_products" class="homepage_products">
        <%= render partial: 'spree/shared/menproducts', locals: { hotproducts: @products.in_taxon(Spree::Taxon.find_by(id:3)) } %>
</div>
<div class="text-center common-heading">Women's Collection</div>
<div data-hook="homepage_products" class="homepage_products">
    <%= render partial: 'spree/shared/hotproducts', locals: { hotproducts: @products.in_taxon(Spree::Taxon.find_by(id:4)) } %>
</div>

</div>
<script type="text/javascript">
  $('.multi-item-carousel').carousel({
  interval: false
});

// for every slide in carousel, copy the next slide's item in the slide.
// Do the same for the next, next item.
$('.multi-item-carousel .item').each(function(){
  var next = $(this).next();
  if (!next.length) {
    next = $(this).siblings(':first');
  }
  next.children(':first-child').clone().appendTo($(this));
  
  if (next.next().length>0) {
    next.next().children(':first-child').clone().appendTo($(this));
  } else {
    $(this).siblings(':first').children(':first-child').clone().appendTo($(this));
  }
});
</script>